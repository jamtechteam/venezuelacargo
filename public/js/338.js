"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[338],{1470:(t,e,a)=>{a.d(e,{Z:()=>r});var i=a(3645),n=a.n(i)()((function(t){return t[1]}));n.push([t.id,".modal.show{display:block}",""]);const r=n},338:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});const i={name:"InfoPreAlertas",props:["data"],data:function(){return{getId:[],datos:[],show:{paquete:!1,images:!1},title:{paquete:"",images:""},dato:{},imagenMiniatura:""}},methods:{checkId:function(t){var e=this,a=this.getId,i="";0==a.length?a.push(t.target.value):a=this.getId.filter((function(e){return e!==t.target.value}));for(var n=function(t){return e.datos.filter((function(e){return e.id_tracking===t}))},r=0;r<a.length;r++){if(0==n(a[r]).length){i=a[r];break}var s=n(a[r])[0],o=s.image,c=s.ancho,d=s.alto,l=s.largo,u=s.peso,g=s.num_piezas;""!=o&&""!=c&&""!=d&&""!=l&&""!=u&&""!=g||(i=a[r]);break}if(""!=i){var h=this.data.filter((function(t){return t.id_tracking===i}));alert("Por Favor Debe Agregar Los datos del Tracking: ".concat(h[0].tracking)),t.preventDefault()}var f=this.datos.filter((function(t){return t.id_tracking!==i}));this.getId=a.filter((function(t){return t!==i})),this.$emit("getTrackings",0!=f.length&&0!=a.length?f:[])},showModal:function(t){var e=this,a=t.target.parentNode;for(var i in this.show)i!=a.id&&(this.show[i]=!1);this.show[a.id]=!0,this.dato=this.propDato();var n;this.title[a.id]=(n=a.value,e.data.filter((function(t){return t.id_tracking===n})))[0].tracking;var r=function(t){return e.datos.filter((function(e){return e.id_tracking===t}))};0==r(a.value).length?this.dato.id_tracking=a.value:this.dato=r(a.value)[0]},hiddenModal:function(){for(var t in this.show)this.show[t]=!1},saveDataPaquete:function(t){var e=this;this.$validator.validate().then((function(a){a&&e.save(t.target.id,e.dato.id_tracking)}))},saveDataImages:function(t){this.save(t.target.id,this.dato.id_tracking)},save:function(t,e){for(var a=!0,i=0;i<this.datos.length;i++)if(this.datos[i].id_tracking==this.dato.id_tracking){this.datos[i]=this.dato,a=!1;break}a&&this.datos.push(this.dato),this.updateBtnColor(t,e),this.hiddenModal(),this.dato={},console.log(this.datos)},updateBtnColor:function(t,e){var a=document.getElementsByClassName("btn-acticon_spalert");console.log(t,e);for(var i=0;i<a.length;i++)if(a[i].id==t&&a[i].value==e){var n="text-green";"alert"==t&&(n="lime"==this.dato.type_notify?"text-green":"yellow"==this.dato.type_notify?"text-yellow":"text-red"),a[i].classList.add(n)}},changeFileImage:function(t){var e=this,a=t.target.files[0];if("image/jpeg"==a.type||"image/png"==a.type||"image/jpg"==a.type){this.dato.image=a;var i=new FileReader;i.onload=function(t){e.imagenMiniatura=t.target.result},i.readAsDataURL(a)}else alert("Por Favor agregar imagen")},propDato:function(){return{id_tracking:"",ancho:"",alto:"",largo:"",peso:"",num_piezas:"",image:""}}}},n=i;var r=a(3379),s=a.n(r),o=a(1470),c={insert:"head",singleton:!1};s()(o.Z,c);o.Z.locals;const d=(0,a(1900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tbody",t._l(t.data,(function(e,i){return a("tr",{key:i},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.getId,expression:"getId"}],staticClass:"form-check-input m-0 align-middle",staticStyle:{border:"1px solid rgb(1 5 12 / 34%)",cursor:"pointer"},attrs:{type:"checkbox",name:"id","aria-label":"Select invoice"},domProps:{value:e.id_tracking,checked:Array.isArray(t.getId)?t._i(t.getId,e.id_tracking)>-1:t.getId},on:{click:function(e){return t.checkId(e)},change:function(a){var i=t.getId,n=a.target,r=!!n.checked;if(Array.isArray(i)){var s=e.id_tracking,o=t._i(i,s);n.checked?o<0&&(t.getId=i.concat([s])):o>-1&&(t.getId=i.slice(0,o).concat(i.slice(o+1)))}else t.getId=r}}})]),t._v(" "),a("td",[a("span",{},[t._v(" "+t._s(e.nombre))])]),t._v(" "),a("td",[a("span",{},[t._v(" "+t._s(e.tracking))])]),t._v(" "),a("td",[a("span",{},[t._v(" "+t._s(e.descripcion))])]),t._v(" "),t._m(0,!0),t._v(" "),a("td",[a("div",{staticClass:"btn-list flex-nowrap"},[a("button",{directives:[{name:"title",rawName:"v-title"}],staticClass:"btn-acticon_spalert",attrs:{type:"button",id:"paquete",value:e.id_tracking,title:"Tracking Recibido"},on:{click:function(e){return t.showModal(e)}}},[a("i",{staticClass:"ti ti-package",staticStyle:{"font-size":"21px"}})]),t._v(" "),a("button",{directives:[{name:"title",rawName:"v-title"}],staticClass:"btn-acticon_spalert",attrs:{id:"images",value:e.id_tracking,type:"button",title:"Imagenes de tracking recibido"},on:{click:function(e){return t.showModal(e)}}},[a("i",{staticClass:"ti ti-photo",staticStyle:{"font-size":"21px"}})])])])])})),0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{})])}],!1,null,null,null).exports}}]);