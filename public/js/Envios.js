"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4669],{2262:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(3645),r=a.n(n)()((function(e){return e[1]}));r.push([e.id,".process{justify-content:center}.process,.process_item{align-items:center;display:flex}.process_item{flex-direction:row}.process_icon{border-radius:50%;height:80px;justify-content:center;width:80px}.process_icon,.process_text{align-items:center;display:flex}.process_text{height:100%}.process_text-title{font-size:16px;font-weight:600;text-transform:uppercase}.process_icon i{font-size:28px}.process_disabled{border:3px solid rgba(98,105,118,.16)}.process_text.process_check,.process_text.process_disabled{border:none}.process_icon.process_disabled i,.process_text.process_disabled .process_text-title{color:rgba(98,105,118,.3)}.process_check{border:3px solid #0ca678}.process_icon.process_check i,.process_text.process_check .process_text-title{color:#0ca678}",""]);const o=r},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=e(t);return t[2]?"@media ".concat(t[2]," {").concat(a,"}"):a})).join("")},t.i=function(e,a,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);n&&r[c[0]]||(a&&(c[2]?c[2]="".concat(a," and ").concat(c[2]):c[2]=a),t.push(c))}},t}},3379:(e,t,a)=>{var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=function(){var e={};return function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}e[t]=a}return e[t]}}(),s=[];function i(e){for(var t=-1,a=0;a<s.length;a++)if(s[a].identifier===e){t=a;break}return t}function c(e,t){for(var a={},n=[],r=0;r<e.length;r++){var o=e[r],c=t.base?o[0]+t.base:o[0],l=a[c]||0,u="".concat(c," ").concat(l);a[c]=l+1;var d=i(u),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(s[d].references++,s[d].updater(f)):s.push({identifier:u,updater:m(f,t),references:1}),n.push(u)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var r=a.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,a,n){var r=a?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function v(e,t,a){var n=a.css,r=a.media,o=a.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var h=null,p=0;function m(e,t){var a,n,r;if(t.singleton){var o=p++;a=h||(h=l(t)),n=f.bind(null,a,o,!1),r=f.bind(null,a,o,!0)}else a=l(t),n=v.bind(null,a,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(a)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var a=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<a.length;n++){var r=i(a[n]);s[r].references--}for(var o=c(e,t),l=0;l<a.length;l++){var u=i(a[l]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}a=o}}}},4609:(e,t,a)=>{a.d(t,{Z:()=>r});const n={name:"BtnVolver",props:["classe"],methods:{volver:function(){this.$router.go(-1)}}};const r=(0,a(1900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn",class:e.classe,attrs:{type:"button"},on:{click:e.volver}},[a("i",{staticClass:"ti ti-arrow-back-up me-1"}),e._v("\n    Volver\n")])}),[],!1,null,null,null).exports},4674:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var n=a(7757),r=a.n(n),o=a(4609);function s(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function c(e,t,a,n,r,o,s){try{var i=e[o](s),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function s(e){c(o,n,r,s,i,"next",e)}function i(e){c(o,n,r,s,i,"throw",e)}s(void 0)}))}}var u=function(){return a.e(6956).then(a.bind(a,4932))},d=function(){return a.e(1093).then(a.bind(a,5852))},f=function(){return a.e(8845).then(a.bind(a,555))},v=[{title:"ALMACÉN MIAMI",valor:"FACTURADO",check:!0,active:!1},{title:"ENVIADO HACIA VENEZUELA",valor:"ENVIO-VENEZUELA",check:!1,active:!1},{title:"EN TRÁNSITO HACIA VENEZUELA",valor:"ENTRANSITO-VENEZUELA",check:!1,active:!1},{title:"ADUANA DE VENEZUELA",valor:"ADUANA-VENEZUELA",check:!1,active:!1},{title:"ALMACÉN VENEZUELA",valor:"ALMACEN-VENEZUELA",check:!1,active:!1},{title:"ENTREGADO",valor:"ENTREGADO",check:!1,active:!1}];const h={name:"ChangeEstadoEnvio",data:function(){return{componentRender:u,activeComponent:"",estados:[],estados_select:[],change_estado:"",id:"",active_fecha:!1,fech_estimada:"",alert:{}}},beforeCreate:function(){this.$nextTick(l(r().mark((function e(){var t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0!==Object.keys(this.$route.query).length&&Object.keys(this.$route.params).length&&this.$route.params.hasOwnProperty("id")&&this.$route.query.hasOwnProperty("estado")&&this.axios.get("envios/".concat(this.$route.params.id,"/edit")).then((function(e){console.log(e.data);var a=e.data.result,n=(a.id_envio,a.historial_estado),r=a.estado,o=[];t.id=t.$route.params.id,null!=n&&(o=s(n.historial));var i=v.filter((function(e){return e.valor==r}))[0];o.push(i),console.log(o);for(var c=0;c<o.length;c++)for(var l=0;l<v.length;l++)o[c].valor==v[l].valor&&(v[l].check=!0);for(var u=0;u<v.length;u++)if(0==v[u].check){var d=v[u],f=d.title,h=d.valor;"ENVIO-VENEZUELA"==v[u].valor&&(t.active_fecha=!0),t.estados_select.push({title:f,valor:h});break}t.estados=v,t.estado=r,t.componentRender=""})).catch((function(e){console.log(e.response.data),t.componentRender=d}));case 1:case"end":return e.stop()}}),e,this)}))))},components:{BtnVolver:o.Z},methods:{actualizarEnvio:function(){var e=this;if(""!=this.change_estado){for(var t=[],a=0;a<v.length;a++)if(1==v[a].check){var n=v[a],r=n.title,o=n.valor;t.push({title:r,valor:o})}var s={estado:this.change_estado,h:{historial:t}};if(this.active_fecha&&""==this.fech_estimada)return void alert("Por favor agrega una fecha estimada de llegada a Venezuela");this.active_fecha&&""!=this.fech_estimada&&(s.fech_estimada=this.fech_estimada),this.alert={},this.activeComponent="",this.componentRender=u,this.axios.put("envios/".concat(this.id),s).then((function(t){console.log(t.data),e.alert={msg:t.data.message,clss:"updated"},e.activeComponent=f,setTimeout((function(){e.$router.go(-1)}),4e3),setTimeout((function(){e.componentRender=""}),2e3)})).catch((function(t){e.loader=!1,e.alert={msg:t.response.data.message,clss:"error"},console.log(t.response.data),e.activeComponent=f,setTimeout((function(){e.componentRender=""}),2e3)}))}else alert("Por favor agrega un estado")}}};var p=a(3379),m=a.n(p),_=a(2262),E={insert:"head",singleton:!1};m()(_.Z,E);_.Z.locals;const g=(0,a(1900).Z)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-xl"},[a("div",{staticClass:"row row-cards"},[a("div",{staticClass:"col-12",staticStyle:{"min-height":"60vh"}},[a(e.componentRender,{tag:"component"}),e._v(" "),""==e.componentRender?a("form",{staticClass:"card card-lg",attrs:{name:"actualizarEnvio",enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.actualizarEnvio()}}},[a("div",{staticClass:"card-body"},[""!=e.activeComponent?a("div",{staticClass:"w-100 mb-3"},[a(e.activeComponent,{tag:"component",attrs:{alert:e.alert}})],1):e._e(),e._v(" "),a("div",{staticClass:"w-100 process mb-3 mt-3 row"},e._l(e.estados,(function(t,n){return a("div",{key:n,staticClass:"process_item col-md-2 col-12"},[a("div",{staticClass:"process_text",class:{process_disabled:0==t.check,process_check:1==t.check}},[a("p",{staticClass:"process_text-title"},[e._v(e._s(t.title))])])])})),0),e._v(" "),a("div",{staticClass:"d-flex align-items-center mt-5"},[a("div",{staticClass:" m-0 ms-auto",staticStyle:{width:"330px"}},[0!=e.estados_select.length?a("div",{staticClass:"form-floating mb-3",class:{"is-invalid":e.errors.first("change_estado")}},[a("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.change_estado,expression:"change_estado"}],staticClass:"form-select",attrs:{name:"change_estado",id:"change_estado","data-vv-validate-on":"change"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.change_estado=t.target.multiple?a:a[0]}}},e._l(e.estados_select,(function(t,n){return a("option",{key:n,domProps:{value:t.valor}},[e._v("\n                                        "+e._s(t.title)+"\n                                    ")])})),0),e._v(" "),a("label",{attrs:{for:"change_estado"}},[e._v("Cambiar de estado")]),e._v(" "),e.errors.has("change_estado")?a("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("change_estado")))]):e._e()]):e._e(),e._v(" "),e.active_fecha?a("div",{staticClass:"form-group mb-3 "},[a("label",{staticClass:"form-label"},[e._v("Fecha Estimada")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fech_estimada,expression:"fech_estimada"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.fech_estimada},on:{input:function(t){t.target.composing||(e.fech_estimada=t.target.value)}}})])]):e._e()])]),e._v(" "),a("div",{staticClass:"d-flex align-items-center mt-3"},[a("btn-volver",{attrs:{classe:"btn-light"}}),e._v(" "),0!=e.estados_select.length?a("button",{staticClass:"btn btn-info ms-auto",attrs:{type:"submit"}},[e._v("\n                            Guardar\n                        ")]):e._e()],1)])]):e._e()],1)])])}),[],!1,null,null,null).exports},8734:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const s={name:"Envios",data:function(){return{data:{th:[{name:"Nro Factura"},{name:"Nro Container"},{name:"Tipo de Envio"},{name:"Estado de Envio"},{name:"Actualización de Envío"},{name:"Historial de Envío"},{name:""}],columns:[{name:"Nro Factura",value:"facturas.nro_factura"},{name:"Nro Container",value:"facturas.nro_container"},{name:"Actualización de Envío",value:"envios.fecha_editado"}]},view:"EnviosDataTable",accion:{create:"",edit:"",delete:""},request:{name:"IndexEnvios",url:"envios",params:{limit:8,page:1,orderBy:"envios.fecha_editado",ascending:0,query:{search:"",estado:"FACTURADO",fecha_estimada:""}}},filters:{name:"IndexEnvios",first:{placeholder:"Busca por numero de factura ó container"},second:[{name:"estado",type:"select",title:"Filtra por estado de envios",option:{name:"title",value:"valor"},data:[{title:"ALMACÉN MIAMI",valor:"FACTURADO"},{title:"ENVIADO HACIA VENEZUELA",valor:"ENVIO-VENEZUELA"},{title:"EN TRÁNSITO HACIA VENEZUELA",valor:"ENTRANSITO-VENEZUELA"},{title:"ADUANA DE VENEZUELA",valor:"ADUANA-VENEZUELA"},{title:"ALMACÉN VENEZUELA",valor:"ALMACEN-VENEZUELA"},{title:"ENTREGADO",valor:"ENTREGADO"}]},{name:"fecha_estimada",type:"date",title:"Fecha Estimada"}]}}},components:{tables:function(){return a.e(1331).then(a.bind(a,4728))},filters:function(){return a.e(1521).then(a.bind(a,1466))}},methods:{handleRequest:function(){this.$refs.filters.changeRequestPadre(r({},{name:"IndexEnvios",url:"envios",params:{limit:8,page:1,orderBy:"envios.fecha_editado",ascending:0,query:{search:"",estado:"FACTURADO",fecha_estimada:""}}}))},handleRequestQuery:function(){this.$refs.filters.changeQueryPadre(r({},{search:"",estado:"FACTURADO",fecha_estimada:""}))}}};const i=(0,a(1900).Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-xl"},[a("div",{staticClass:"row row-cards"},[a("div",{staticClass:"col-12"},[a("filters",{ref:"filters",attrs:{filters:e.filters,request:e.request},on:{consulReq:e.handleRequest,consulReqQury:e.handleRequestQuery}}),e._v(" "),a("tables",{attrs:{columns:e.data,viewData:e.view,accion:e.accion}})],1)])])}),[],!1,null,null,null).exports}}]);