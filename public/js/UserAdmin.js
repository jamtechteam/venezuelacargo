"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3291],{4609:(e,t,a)=>{a.d(t,{Z:()=>r});const s={name:"BtnVolver",props:["classe"],methods:{volver:function(){this.$router.go(-1)}}};const r=(0,a(1900).Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn",class:e.classe,attrs:{type:"button"},on:{click:e.volver}},[a("i",{staticClass:"ti ti-arrow-back-up me-1"}),e._v("\n    Volver\n")])}),[],!1,null,null,null).exports},7067:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(7757),r=a.n(s),o=a(4609);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t,a,s,r,o,n){try{var i=e[o](n),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(s,r)}function d(e){return function(){var t=this,a=arguments;return new Promise((function(s,r){var o=e.apply(t,a);function n(e){c(o,s,r,n,i,"next",e)}function i(e){c(o,s,r,n,i,"throw",e)}n(void 0)}))}}var u=function(){return a.e(4932).then(a.bind(a,4932))},v=function(){return a.e(1093).then(a.bind(a,5852))},m=function(){return a.e(8845).then(a.bind(a,555))};const p={name:"UserAdmin",data:function(){return{componentRender:u,loader:!1,activeComponent:"",alert:{msg:"",clss:""},usuario_id:"",nom_user:"",email:"",password:"",password_confirmation:"",passV:"max:12"}},beforeCreate:function(){this.$nextTick(d(r().mark((function e(){var t,a,s=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){setTimeout((function(){s.componentRender=""}),2e3)},a=function(){setTimeout((function(){s.componentRender=v}),2e3)},e.next=4,this.axios.get("edit-user").then((function(e){var r=i({},e.data.result);null!=r?(document.title=document.title+"  "+r.nombre_usuario,s.nom_user=r.nombre_usuario,s.email=r.email,s.usuario_id=r.usuario_id,t()):a(),console.log(r)})).catch((function(e){console.log(e.response),a()}));case 4:case"end":return e.stop()}}),e,this)}))))},components:{BtnVolver:o.Z,loader:u},methods:{changePassword:function(){""!=this.password?this.passV="required|max:12|confirmed:password":this.passV="max:12"},save:function(){var e=this;this.$validator.validate().then((function(t){if(t){var a={usuario_id:e.usuario_id,nombre_usuario:e.nom_user,email:e.email,password:e.password};e.loader=!0,e.axios.put("user/admin/".concat(e.usuario_id),a).then((function(t){console.log(t.data),e.$store.dispatch("auth/user",t.data.user),s(t.data)})).catch((function(e){console.log(e.response),console.log(e.response.data);var t=e.response.status,a=e.response.data.message;500==t&&(a="Error inesperado. por favor intentar más tarde."),s({status:t,message:a})}));var s=function(t){setTimeout((function(){e.loader=!1,e.respAlert(t.status,t.message)}),2e3),200==t.status&&setTimeout((function(){e.$router.go(-1)}),4e3)}}}))},respAlert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.alert={msg:t,clss:200==e?"updated":"error"},this.activeComponent=m}}};const f=(0,a(1900).Z)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-body"},[a("div",{staticClass:"container-xl"},[a("div",{staticClass:"row row-cards"},[a("div",{staticClass:"col-12",staticStyle:{"min-height":"60vh"}},[a(e.componentRender,{tag:"component"}),e._v(" "),""==e.componentRender?a("form",{staticClass:"card card-lg",attrs:{name:"user",enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.save()}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.loader,expression:"loader"}],staticClass:"div-loader_white"},[a("loader")],1),e._v(" "),a("div",{staticClass:"card-body"},[""!=e.activeComponent?a("div",{staticClass:"w-100 mb-3"},[a(e.activeComponent,{tag:"component",attrs:{alert:e.alert}})],1):e._e(),e._v(" "),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-6 mb-3"},[a("p",{staticClass:"h3"},[e._v("Nombre Usuario")]),e._v(" "),a("div",{staticClass:"form-floating mt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.nom_user,expression:"nom_user"},{name:"validate",rawName:"v-validate",value:"required|max:25",expression:"'required|max:25'"}],staticClass:"form-control",class:{"is-invalid":e.errors.first("nom_user")},attrs:{type:"text",id:"nom_user",name:"nom_user","aria-expanded":"false","data-vv-validate-on":"change"},domProps:{value:e.nom_user},on:{input:function(t){t.target.composing||(e.nom_user=t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"nom_user"}},[e._v("Nombre Usuario")]),e._v(" "),e.errors.has("nom_user")?a("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("nom_user")))]):e._e()])]),e._v(" "),a("div",{staticClass:"col-6 mb-3"},[a("p",{staticClass:"h3"},[e._v("Correo")]),e._v(" "),a("div",{staticClass:"form-floating mt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":e.errors.first("email")},attrs:{type:"text",id:"email",name:"email","aria-expanded":"false","data-vv-validate-on":"change"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"email"}},[e._v("Correo")]),e._v(" "),e.errors.has("email")?a("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("email")))]):e._e()])]),e._v(" "),a("div",{staticClass:"col-6 mb-3"},[a("p",{staticClass:"h3"},[e._v("Contraseña")]),e._v(" "),a("div",{staticClass:"form-floating mt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"max:12",expression:"'max:12'"}],ref:"password",staticClass:"form-control",class:{"is-invalid":e.errors.first("password")},attrs:{type:"text",id:"password",name:"password","aria-expanded":"false","data-vv-validate-on":"change"},domProps:{value:e.password},on:{change:e.changePassword,input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"password"}},[e._v("Contraseña")]),e._v(" "),e.errors.has("password")?a("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("password")))]):e._e()])]),e._v(" "),a("div",{staticClass:"col-6 mb-3"},[a("p",{staticClass:"h3"},[e._v("Repetir Contraseña")]),e._v(" "),a("div",{staticClass:"form-floating mt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirmation,expression:"password_confirmation"},{name:"validate",rawName:"v-validate",value:e.passV,expression:"passV"}],staticClass:"form-control",class:{"is-invalid":e.errors.first("password_confirmation")},attrs:{type:"text",id:"password_confirmation",name:"password_confirmation","aria-expanded":"false","data-vv-validate-on":"change","data-vv-as":"password"},domProps:{value:e.password_confirmation},on:{input:function(t){t.target.composing||(e.password_confirmation=t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"password_confirmation"}},[e._v("Repetir Contraseña")]),e._v(" "),e.errors.has("password_confirmation")?a("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("password_confirmation")))]):e._e()])])]),e._v(" "),a("div",{staticClass:"d-flex align-items-center mt-5"},[a("btn-volver",{attrs:{classe:"btn-light"}}),e._v(" "),a("button",{staticClass:"btn btn-info ms-auto",attrs:{type:"submit"}},[e._v("\r\n                                Actualizar\r\n                            ")])],1)])]):e._e()],1)])])])}),[],!1,null,null,null).exports}}]);