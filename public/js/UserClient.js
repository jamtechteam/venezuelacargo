"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1336],{4609:(e,a,t)=>{t.d(a,{Z:()=>o});const s={name:"BtnVolver",props:["classe"],methods:{volver:function(){this.$router.go(-1)}}};const o=(0,t(1900).Z)(s,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("button",{staticClass:"btn",class:e.classe,attrs:{type:"button"},on:{click:e.volver}},[t("i",{staticClass:"ti ti-arrow-back-up me-1"}),e._v("\n    Volver\n")])}),[],!1,null,null,null).exports},3445:(e,a,t)=>{t.r(a),t.d(a,{default:()=>f});var s=t(7757),o=t.n(s),r=t(4609);function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,s)}return t}function n(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){l(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function c(e,a,t,s,o,r,i){try{var n=e[r](i),l=n.value}catch(e){return void t(e)}n.done?a(l):Promise.resolve(l).then(s,o)}function d(e){return function(){var a=this,t=arguments;return new Promise((function(s,o){var r=e.apply(a,t);function i(e){c(r,s,o,i,n,"next",e)}function n(e){c(r,s,o,i,n,"throw",e)}i(void 0)}))}}var m=function(){return t.e(4932).then(t.bind(t,4932))},v=function(){return t.e(1093).then(t.bind(t,5852))},u=function(){return t.e(8845).then(t.bind(t,555))};const p={name:"UserAdmin",data:function(){return{componentRender:m,loader:!1,activeComponent:"",alert:{msg:"",clss:""},usuario_id:"",nombres:"",apellidos:"",telefono:"",cedula:"",nom_user:"",email:"",password:"",password_confirmation:"",passV:"max:12"}},beforeCreate:function(){this.$nextTick(d(o().mark((function e(){var a,t,s=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){setTimeout((function(){s.componentRender=""}),2e3)},t=function(){setTimeout((function(){s.componentRender=v}),2e3)},e.next=4,this.axios.get("edit-user/client").then((function(e){var o=n({},e.data.result);null!=o?(document.title=document.title+"  "+o.nombre_usuario,s.nombres=o.nombres,s.apellidos=o.apellidos,s.telefono=o.telefono,s.cedula=o.cedula,s.nom_user=o.nombre_usuario,s.email=o.email,s.usuario_id=o.usuario_id,a()):t(),console.log(o)})).catch((function(e){console.log(e.response.data),t()}));case 4:case"end":return e.stop()}}),e,this)}))))},components:{BtnVolver:r.Z,loader:m},methods:{changePassword:function(){""!=this.password?this.passV="required|max:12|confirmed:password":this.passV="max:12"},save:function(){var e=this;this.$validator.validate().then((function(a){if(a){var t={apellidos:e.apellidos,cedula:e.cedula,email:e.email,nombre_usuario:e.nom_user,nombres:e.nombres,telefono:e.telefono,password:e.password};e.loader=!0,e.axios.put("user/client/".concat(e.usuario_id),t).then((function(a){console.log(a.data),e.$store.dispatch("auth/user",a.data.user),s(a.data)})).catch((function(e){console.log(e.response),console.log(e.response.data);var a=e.response.status,t=e.response.data.message;500==a&&(t="Error inesperado. por favor intentar más tarde."),s({status:a,message:t})}));var s=function(a){setTimeout((function(){e.loader=!1,e.respAlert(a.status,a.message)}),2e3),200==a.status&&setTimeout((function(){e.$router.go(-1)}),4e3)}}}))},respAlert:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.alert={msg:a,clss:200==e?"updated":"error"},this.activeComponent=u}}};const f=(0,t(1900).Z)(p,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"page-body"},[t("div",{staticClass:"container-xl"},[t("div",{staticClass:"row row-cards"},[t("div",{staticClass:"col-12",staticStyle:{"min-height":"60vh"}},[t(e.componentRender,{tag:"component"}),e._v(" "),""==e.componentRender?t("form",{staticClass:"card card-lg",attrs:{name:"user",enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),e.save()}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.loader,expression:"loader"}],staticClass:"div-loader_white"},[t("loader")],1),e._v(" "),t("div",{staticClass:"card-body"},[""!=e.activeComponent?t("div",{staticClass:"w-100 mb-3"},[t(e.activeComponent,{tag:"component",attrs:{alert:e.alert}})],1):e._e(),e._v(" "),t("div",{staticClass:"row mb-3"},[t("div",{staticClass:"col-12 col-md-6 col-lg-6 col-sm-12 mb-3"},[t("p",{staticClass:"h3"},[e._v("Nombres")]),e._v(" "),t("div",{staticClass:"form-floating mt-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.nombres,expression:"nombres"},{name:"validate",rawName:"v-validate",value:"required|max:45",expression:"'required|max:45'"}],staticClass:"form-control",class:{"is-invalid":e.errors.first("nombres")},attrs:{type:"text",id:"nombres",name:"nombres","aria-expanded":"false","data-vv-validate-on":"change"},domProps:{value:e.nombres},on:{input:function(a){a.target.composing||(e.nombres=a.target.value)}}}),e._v(" "),t("label",{attrs:{for:"nombres"}},[e._v("Nombres")]),e._v(" "),e.errors.has("nombres")?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("nombres")))]):e._e()])]),e._v(" "),t("div",{staticClass:"col-12 col-md-6 col-lg-6 col-sm-12 mb-3"},[t("p",{staticClass:"h3"},[e._v("Apellidos")]),e._v(" "),t("div",{staticClass:"form-floating mt-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.apellidos,expression:"apellidos"},{name:"validate",rawName:"v-validate",value:"required|max:45",expression:"'required|max:45'"}],staticClass:"form-control",class:{"is-invalid":e.errors.first("apellidos")},attrs:{type:"text",id:"apellidos",name:"apellidos","aria-expanded":"false","data-vv-validate-on":"change"},domProps:{value:e.apellidos},on:{input:function(a){a.target.composing||(e.apellidos=a.target.value)}}}),e._v(" "),t("label",{attrs:{for:"apellidos"}},[e._v("Apellidos")]),e._v(" "),e.errors.has("apellidos")?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("apellidos")))]):e._e()])]),e._v(" "),t("div",{staticClass:"col-12 col-md-6 col-lg-6 col-sm-12 mb-3"},[t("p",{staticClass:"h3"},[e._v("Número de Teléfono")]),e._v(" "),t("div",{staticClass:"form-floating mt-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.telefono,expression:"telefono"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:11",expression:"'required|numeric|max:11'"}],staticClass:"form-control",class:{"is-invalid":e.errors.first("telefono")},attrs:{type:"text",id:"telefono",name:"telefono","aria-expanded":"false","data-vv-validate-on":"change"},domProps:{value:e.telefono},on:{input:function(a){a.target.composing||(e.telefono=a.target.value)}}}),e._v(" "),t("label",{attrs:{for:"telefono"}},[e._v("Número de Teléfono")]),e._v(" "),e.errors.has("telefono")?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("telefono")))]):e._e()])]),e._v(" "),t("div",{staticClass:"col-12 col-md-6 col-lg-6 col-sm-12 mb-3"},[t("p",{staticClass:"h3"},[e._v("Cédula")]),e._v(" "),t("div",{staticClass:"form-floating mt-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.cedula,expression:"cedula"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:8",expression:"'required|numeric|max:8'"}],staticClass:"form-control",class:{"is-invalid":e.errors.first("cedula")},attrs:{type:"text",id:"cedula",name:"cedula","aria-expanded":"false","data-vv-validate-on":"change"},domProps:{value:e.cedula},on:{input:function(a){a.target.composing||(e.cedula=a.target.value)}}}),e._v(" "),t("label",{attrs:{for:"cedula"}},[e._v("Cédula")]),e._v(" "),e.errors.has("cedula")?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("cedula")))]):e._e()])]),e._v(" "),t("div",{staticClass:"col-12 col-md-6 col-lg-6 col-sm-12 mb-3"},[t("p",{staticClass:"h3"},[e._v("Nombre Usuario")]),e._v(" "),t("div",{staticClass:"form-floating mt-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.nom_user,expression:"nom_user"},{name:"validate",rawName:"v-validate",value:"required|max:25",expression:"'required|max:25'"}],staticClass:"form-control",class:{"is-invalid":e.errors.first("nom_user")},attrs:{type:"text",id:"nom_user",name:"nom_user","aria-expanded":"false","data-vv-validate-on":"change"},domProps:{value:e.nom_user},on:{input:function(a){a.target.composing||(e.nom_user=a.target.value)}}}),e._v(" "),t("label",{attrs:{for:"nom_user"}},[e._v("Nombre Usuario")]),e._v(" "),e.errors.has("nom_user")?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("nom_user")))]):e._e()])]),e._v(" "),t("div",{staticClass:"col-12 col-md-6 col-lg-6 col-sm-12 mb-3"},[t("p",{staticClass:"h3"},[e._v("Correo")]),e._v(" "),t("div",{staticClass:"form-floating mt-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":e.errors.first("email")},attrs:{type:"text",id:"email",name:"email","aria-expanded":"false","data-vv-validate-on":"change"},domProps:{value:e.email},on:{input:function(a){a.target.composing||(e.email=a.target.value)}}}),e._v(" "),t("label",{attrs:{for:"email"}},[e._v("Correo")]),e._v(" "),e.errors.has("email")?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("email")))]):e._e()])]),e._v(" "),t("div",{staticClass:"col-12 col-md-6 col-lg-6 col-sm-12 mb-3"},[t("p",{staticClass:"h3"},[e._v("Contraseña")]),e._v(" "),t("div",{staticClass:"form-floating mt-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"max:12",expression:"'max:12'"}],ref:"password",staticClass:"form-control",class:{"is-invalid":e.errors.first("password")},attrs:{type:"text",id:"password",name:"password","aria-expanded":"false","data-vv-validate-on":"change"},domProps:{value:e.password},on:{change:e.changePassword,input:function(a){a.target.composing||(e.password=a.target.value)}}}),e._v(" "),t("label",{attrs:{for:"password"}},[e._v("Contraseña")]),e._v(" "),e.errors.has("password")?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("password")))]):e._e()])]),e._v(" "),t("div",{staticClass:"col-12 col-md-6 col-lg-6 col-sm-12 mb-3"},[t("p",{staticClass:"h3"},[e._v("Repetir Contraseña")]),e._v(" "),t("div",{staticClass:"form-floating mt-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirmation,expression:"password_confirmation"},{name:"validate",rawName:"v-validate",value:e.passV,expression:"passV"}],staticClass:"form-control",class:{"is-invalid":e.errors.first("password_confirmation")},attrs:{type:"text",id:"password_confirmation",name:"password_confirmation","aria-expanded":"false","data-vv-validate-on":"change","data-vv-as":"password"},domProps:{value:e.password_confirmation},on:{input:function(a){a.target.composing||(e.password_confirmation=a.target.value)}}}),e._v(" "),t("label",{attrs:{for:"password_confirmation"}},[e._v("Repetir Contraseña")]),e._v(" "),e.errors.has("password_confirmation")?t("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("password_confirmation")))]):e._e()])])]),e._v(" "),t("div",{staticClass:"d-flex align-items-center mt-5"},[t("btn-volver",{attrs:{classe:"btn-light"}}),e._v(" "),t("button",{staticClass:"btn btn-info ms-auto",attrs:{type:"submit"}},[e._v("\r\n                                Actualizar\r\n                            ")])],1)])]):e._e()],1)])])])}),[],!1,null,null,null).exports}}]);